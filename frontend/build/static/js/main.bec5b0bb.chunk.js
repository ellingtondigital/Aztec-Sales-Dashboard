(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{295:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(274),r=a.n(n),l=(a(295),a(71)),o=a(8),d=a(523),i=a(534),j=a(531),b=a(524);a(296);const{API_BASE_URL:h}={API_BASE_URL:"http://167.99.122.113:3000"};var x=a(1);var p=e=>{let{onLogin:t}=e;const[a,s]=Object(c.useState)(""),[n,r]=Object(c.useState)(""),[l,o]=Object(c.useState)("");return Object(x.jsx)(d.a,{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:Object(x.jsxs)("div",{className:"border p-4 rounded",style:{maxWidth:"400px",width:"100%"},children:[Object(x.jsx)("h3",{className:"mb-3",children:"Login"}),l&&Object(x.jsx)(i.a,{variant:"danger",children:l}),Object(x.jsxs)(j.a,{onSubmit:async e=>{e.preventDefault();try{(await fetch(`${h}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:n})})).ok?t():o("Invalid credentials")}catch(c){console.error("Error:",c),o("An error occurred")}},children:[Object(x.jsxs)(j.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(x.jsx)(j.a.Label,{children:"Email address"}),Object(x.jsx)(j.a.Control,{type:"email",placeholder:"Enter email",value:a,onChange:e=>s(e.target.value)})]}),Object(x.jsxs)(j.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(x.jsx)(j.a.Label,{children:"Password"}),Object(x.jsx)(j.a.Control,{type:"password",placeholder:"Password",value:n,onChange:e=>r(e.target.value)})]}),Object(x.jsx)(b.a,{variant:"primary",type:"submit",children:"Login"})]})]})})},O=a(528);const u=Object(c.createContext)(),g=e=>{let{children:t}=e;const[a,s]=Object(c.useState)({});return Object(x.jsx)(u.Provider,{value:{uploadedData:a,setUploadedData:s},children:t})},m=()=>Object(c.useContext)(u);var f=function(){const[e,t]=Object(c.useState)(null),[a,s]=Object(c.useState)(""),{uploadedData:n,setUploadedData:r}=m();return Object(c.useEffect)((()=>{O.a.get(`${h}/last-uploaded`).then((e=>{console.log("Most recent file data:",e.data);const{fileName:t,sheetName:a,rows:c}=e.data;t&&a&&O.a.get(`${h}/files/${t}`).then((e=>{console.log("Data for the most recent file:",e.data);const t=e.data.reduce(((e,t)=>{let{sheet_name:a,rows:c}=t;return e[a]=c,e}),{});r(t),s(a)})).catch((e=>{console.error("Error fetching data for the most recent file:",e)}))})).catch((e=>{console.error("Error fetching the most recent file:",e)}))}),[r]),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Upload .xlsx File"}),Object(x.jsx)("input",{type:"file",onChange:e=>{t(e.target.files[0])}}),Object(x.jsx)("button",{onClick:()=>{const t=new FormData;t.append("file",e),O.a.post(`${h}/upload`,t).then((e=>{console.log("Upload response:",e.data),r(e.data),s(Object.keys(e.data)[0])})).catch((e=>{console.error("Error uploading file:",e)}))},children:"Upload"}),Object.keys(n).length>0&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Select a sheet:"}),Object(x.jsx)("select",{onChange:e=>{s(e.target.value)},value:a,children:Object.keys(n).map(((e,t)=>Object(x.jsx)("option",{value:e,children:e},t)))}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:["Data from ",a,":"]}),(l=n[a],l.length?Object(x.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%"},children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{children:l[0].map(((e,t)=>Object(x.jsxs)("th",{style:{border:"1px solid black",padding:"8px"},children:["Column ",t+1]},t)))})}),Object(x.jsx)("tbody",{children:l.map(((e,t)=>Object(x.jsx)("tr",{children:e.map(((e,t)=>Object(x.jsx)("td",{style:{border:"1px solid black",padding:"8px"},children:e},t)))},t)))})]}):null)]})]})]});var l},y=a(529),v=a(533),S=a(287),k=a.p+"static/media/Logoimage.3636d39a.png";const C={backgroundColor:"indigo",color:"white",padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",display:"inline-flex",alignItems:"center",textDecoration:"none",fontWeight:"bold",marginLeft:"10px"};var L=function(){return Object(o.p)(),Object(x.jsxs)(y.a,{bg:"light",expand:"lg",children:[Object(x.jsx)(y.a.Brand,{as:l.b,to:"/",children:Object(x.jsx)("img",{src:k,alt:"Logo",height:"50",className:"d-inline-block align-top"})}),Object(x.jsx)(y.a.Toggle,{"aria-controls":"basic-navbar-nav "}),Object(x.jsx)(y.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsx)(v.a,{className:"mr-auto",children:Object(x.jsx)(v.a.Link,{as:l.b,to:"/dashboard",children:"Dashboard"})})}),Object(x.jsx)(y.a.Collapse,{style:{display:"flex",justifyContent:"flex-end"},children:Object(x.jsxs)(v.a,{className:"ml-auto",children:[" ",Object(x.jsx)(v.a.Link,{as:l.b,to:"/",onClick:()=>{window.location.reload()},style:C,children:"Update File"}),Object(x.jsxs)(v.a.Link,{as:l.b,to:"/profile",style:C,children:[Object(x.jsx)(S.a,{style:{marginRight:"5px"}})," Profile"]})]})})]})},w=a(527),D=a(275),E=a(532),N=a(525),A=a(530),B=a(526),P=a(285),I=a(286),R=a(63),U=a(133);var F=()=>{const{uploadedData:e}=m(),[t,a]=Object(c.useState)(209),s="Lead Source",n=4,r=63,l=(e=>{if(!e[s])return[];const a=e[s],c=[];for(let s=n-1;s<r-1&&s<a.length;s++)c.push({name:a[s][0],value:a[s][t]||0});return c})(e),o={default:{backgroundColor:"white",color:"#333",marginRight:"0px",padding:"10px 20px ",border:"1px solid #ccc",borderRadius:"5px",cursor:"pointer",boxShadow:"none"},selected:{backgroundColor:"#EBEBEB",color:"#333",marginRight:"5px",marginLeft:"5px",padding:"10px 20px",border:"1px solid #ccc",borderRadius:"8px",cursor:"pointer",boxShadow:"inset 2px 2px 5px rgba(0, 0, 0, 0.2)"}};return Object(x.jsxs)("div",{className:"rounded-md bg-card text-card-foreground shadow-sm",children:[Object(x.jsxs)("div",{className:"flex flex-col space-y-1.5 px-4 py-4 mb-6 border-b border-border",children:[Object(x.jsx)("h3",{className:"text-xl font-medium leading-none",children:"Lead Source"}),Object(x.jsxs)("div",{className:"flex space-x-2",style:{display:"flex",justifyContent:"flex-end"},children:[Object(x.jsx)("button",{onClick:()=>a(209),style:209===t?o.selected:o.default,children:"LEADS"}),Object(x.jsx)("button",{onClick:()=>a(210),style:210===t?o.selected:o.default,children:"APPTS"}),Object(x.jsx)("button",{onClick:()=>a(211),style:211===t?o.selected:o.default,children:"SALES"}),Object(x.jsx)("button",{onClick:()=>a(212),style:212===t?o.selected:o.default,children:"Amount $"})]})]}),Object(x.jsx)("div",{className:"p-6 pt-0",children:Object(x.jsx)(N.a,{width:"100%",height:2500,children:Object(x.jsxs)(A.a,{data:l,layout:"vertical",margin:{top:20,right:30,bottom:20,left:0},children:[Object(x.jsx)(B.a,{strokeDasharray:"3 3"}),Object(x.jsx)(P.a,{type:"number",domain:[0,350],stroke:"hsl(215.3 19.3% 34.5%)",tick:{fontSize:12}}),Object(x.jsx)(I.a,{type:"category",dataKey:"name",stroke:"hsl(215.3 19.3% 34.5%)",tick:{fontSize:12},width:350,tickLine:!1,axisLine:{stroke:"hsl(215.3 19.3% 34.5%)"}}),Object(x.jsx)(R.a,{}),Object(x.jsx)(U.a,{dataKey:"value",fill:"#00C2DD",barSize:20})]})})})]})};var T=()=>{const{uploadedData:e}=m(),[t,a]=Object(c.useState)("");return Object(x.jsxs)("div",{style:{textAlign:"center"},children:[Object(x.jsx)("h4",{children:"Menu"}),Object(x.jsx)("div",{children:Object.keys(e).length>0&&Object(x.jsx)("div",{children:Object(x.jsxs)("select",{onChange:e=>{a(e.target.value)},value:t,style:{marginTop:"10px"},children:[Object(x.jsx)("option",{value:"",disabled:!0,children:"Select a sheet"}),Object.keys(e).map(((e,t)=>Object(x.jsx)("option",{value:e,children:e},t)))]})})})]})};var $=function(){return Object(x.jsxs)(d.a,{children:[Object(x.jsxs)(w.a,{style:{border:"1px solid black",padding:"10px"},children:["      ",Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:Object(x.jsx)(T,{})})]}),Object(x.jsx)(w.a,{children:Object(x.jsx)(D.a,{md:12,children:Object(x.jsx)(E.a,{style:{border:"none"},children:Object(x.jsxs)(E.a.Body,{children:[Object(x.jsx)(F,{})," "]})})})})]})};var _=function(){const[e,t]=Object(c.useState)(!1),[a,s]=Object(c.useState)({});return Object(c.useEffect)((()=>{const e=localStorage.getItem("isAuthenticated");t("true"===e)}),[]),Object(x.jsx)(g,{children:Object(x.jsxs)(l.a,{children:[e&&Object(x.jsx)(L,{}),Object(x.jsx)(d.a,{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:"/",element:e?Object(x.jsx)(o.a,{to:"/file-upload"}):Object(x.jsx)(p,{onLogin:()=>{t(!0),localStorage.setItem("isAuthenticated","true")}})}),Object(x.jsx)(o.b,{path:"/file-upload",element:e?Object(x.jsx)(f,{onFileUploadSuccess:e=>{s(e)}}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{path:"/dashboard",element:e?Object(x.jsx)($,{}):Object(x.jsx)(o.a,{to:"/"})})]})})]})})};var z=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,535)).then((t=>{let{getCLS:a,getFID:c,getFCP:s,getLCP:n,getTTFB:r}=t;a(e),c(e),s(e),n(e),r(e)}))};r.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(_,{})})),z()}},[[519,1,2]]]);
//# sourceMappingURL=main.bec5b0bb.chunk.js.map